<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registro</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- SweetAlert2 CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css"
    />
    <link rel="stylesheet" href="../css/styles.css" />
    <link rel="stylesheet" href="../css/registro.css" />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark py-3" id="navbar">
      <a class="navbar-brand d-flex align-items-center" href="#">
        <img src="../img/logo.png" alt="Logo" height="40" class="mr-2" />
        <span class="font-weight-bold">LEGENDARYGAMES</span>
      </a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item active">
            <a class="nav-link" href="../index.html">INICIO</a>
          </li>
          <li class="nav-item"><a class="nav-link" href="#">AYUDA</a></li>
          <li class="nav-item">
            <a class="nav-link" href="./registro.html">REGISTRARSE</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./login.html">INICIAR SESIÓN</a>
          </li>
        </ul>
      </div>
    </nav>
    <div class="container d-flex justify-content-center">
      <div>
        <h1 class="title">LEGENDARY GAMES</h1>
        <div class="card p-4" style="max-width: 450px">
          <form id="registerForm">
            <!-- Correo electrónico -->
            <div class="form-group">
              <label>Correo electrónico</label>
              <input
                type="email"
                id="email"
                class="form-control"
                placeholder="Sample"
              />
              <div class="error-text" id="emailError"></div>
            </div>

            <!-- País -->
            <div class="form-group">
              <label>País</label>
              <select id="country" class="form-control">
                <option value="">Selecciona un país</option>
                <option value="Ecuador">Ecuador</option>
                <option value="Colombia">Colombia</option>
                <option value="Peru">Perú</option>
                <option value="Mexico">México</option>
              </select>
              <div class="error-text" id="countryError"></div>
            </div>

            <!-- Nombre de usuario -->
            <div class="form-group">
              <label>Nombre de usuario</label>
              <input
                type="text"
                id="username"
                class="form-control"
                placeholder="Sample"
              />
              <div class="error-text" id="usernameError"></div>
            </div>

            <!-- Contraseña -->
            <div class="form-group">
              <label>Contraseña</label>
              <input
                type="password"
                id="password"
                class="form-control"
                placeholder="Sample"
              />
              <div class="error-text" id="passwordError"></div>
            </div>

            <!-- Número de teléfono -->
            <div class="form-group">
              <label>Número de teléfono</label>
              <input
                type="text"
                id="phone"
                class="form-control"
                placeholder="Sample"
              />
              <div class="error-text" id="phoneError"></div>
            </div>

            <!-- Checkbox Términos -->
            <div class="checkbox-container">
              <input type="checkbox" id="terms" />
              <label for="terms"
                >He leído y estoy de acuerdo con los términos y condiciones del
                servicio.</label
              >
              <div class="error-text" id="termsError"></div>
            </div>

            <button type="submit" class="btn btn-register" id="registerBtn">
              Registrarse
            </button>
          </form>
          <div class="text-center" style="font-size: 0.9rem">
            ¿Ya tienes una cuenta creada?<br />
            <a href="login.html" class="link-text">Inicia sesión</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <!-- jQuery, Popper, Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- SweetAlert2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("registerForm");
        const emailInput = document.getElementById("email");
        const countrySelect = document.getElementById("country");
        const usernameInput = document.getElementById("username");
        const passwordInput = document.getElementById("password");
        const phoneInput = document.getElementById("phone");
        const termsCheckbox = document.getElementById("terms");

        const emailError = document.getElementById("emailError");
        const countryError = document.getElementById("countryError");
        const usernameError = document.getElementById("usernameError");
        const passwordError = document.getElementById("passwordError");
        const phoneError = document.getElementById("phoneError");
        const termsError = document.getElementById("termsError");

        form.addEventListener("submit", (e) => {
          e.preventDefault();

          // Limpiar mensajes previos
          emailError.textContent = "";
          countryError.textContent = "";
          usernameError.textContent = "";
          passwordError.textContent = "";
          phoneError.textContent = "";
          termsError.textContent = "";

          // Validaciones
          let isValid = true;

          // Validar email
          const emailValue = emailInput.value.trim();
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(emailValue)) {
            emailError.textContent = "El correo electrónico no es válido.";
            isValid = false;
          }

          // Validar país
          if (countrySelect.value === "") {
            countryError.textContent = "Por favor selecciona un país.";
            isValid = false;
          }

          // Validar nombre de usuario
          const usernameValue = usernameInput.value.trim();
          if (usernameValue.length < 3) {
            usernameError.textContent =
              "El nombre de usuario debe tener al menos 3 caracteres.";
            isValid = false;
          }

          // Validar contraseña
          const passwordValue = passwordInput.value.trim();
          if (passwordValue.length < 5) {
            passwordError.textContent =
              "La contraseña debe tener al menos 5 caracteres.";
            isValid = false;
          }

          // Validar teléfono
          const phoneValue = phoneInput.value.trim();
          const phoneRegex = /^[0-9]{7,}$/; // mínimo 7 dígitos
          if (!phoneRegex.test(phoneValue)) {
            phoneError.textContent =
              "El número de teléfono debe ser solo dígitos y tener al menos 7 dígitos.";
            isValid = false;
          }

          // Validar términos
          if (!termsCheckbox.checked) {
            termsError.textContent =
              "Debes aceptar los términos y condiciones.";
            isValid = false;
          }

          if (isValid) {
            Swal.fire({
              title: "¡Registro exitoso!",
              text: "Tu cuenta ha sido creada correctamente.",
              icon: "success",
              confirmButtonText: "Aceptar",
            }).then(() => {
              // Aquí puedes redirigir a otra página si deseas
              // window.location.href = "perfil.html";
            });
          } else {
            // Opcional: Alerta de error general (si se desea)
            // Swal.fire({
            //   title: 'Error',
            //   text: 'Por favor corrige los campos marcados.',
            //   icon: 'error',
            //   confirmButtonText: 'Aceptar'
            // });
          }
        });
      });
    </script>
  </body>
</html>
